<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auto Entry - Dairy Farm</title>
<style>
  body { font-family: Arial, sans-serif; background: #fffdf5; text-align: center; }
  header { background: #ff9800; color: white; padding: 15px; font-size: 22px; font-weight: bold; }
  form { margin: 20px auto; padding: 15px; background: #f5f5f5; width: 90%; max-width: 400px; border-radius: 8px; }
  input { width: 90%; padding: 8px; margin: 8px 0; }
  button { background: #4CAF50; color: white; padding: 8px 15px; border: none; border-radius: 6px; cursor: pointer; }
  button:hover { background: #388e3c; }
  .list { margin-top: 20px; padding: 10px; background: #fff; border: 1px solid #ddd; width: 90%; max-width: 400px; margin: auto; }
  .entry { padding: 5px; border-bottom: 1px solid #ddd; text-align: left; }
  .editBtn { background:#2196F3; margin-left:5px; }
  .deleteBtn { background:#E91E63; margin-left:5px; }
</style>
</head>
<body>

<header>üöú Auto Entry System</header>

<h3>üêÑ Add / Edit Cow Entry</h3>

<form id="autoEntryForm">
  <input type="hidden" id="editIndex">
  <input type="text" id="cowName" placeholder="Enter Cow Name" required><br>
  <label>Insemination Date:</label><br>
  <input type="date" id="inseminationDate" required><br>
  <label>Expected Delivery Date:</label><br>
  <input type="date" id="deliveryDate" required><br>
  <button type="submit">Save Entry</button>
</form>

<h3>üìã Saved Entries</h3>
<div class="list" id="entryList">No entries yet.</div>

<a href="index.html">‚¨Ö Back to Dashboard</a>

<script>
let entries = JSON.parse(localStorage.getItem("autoEntries")) || [];

function showEntries() {
    const list = document.getElementById("entryList");
    if (entries.length === 0) {
        list.innerHTML = "No entries yet.";
        return;
    }
    list.innerHTML = "";
    entries.forEach((e, i) => {
        list.innerHTML += `<div class="entry">üêÑ <b>${e.cow}</b> | Insemination: ${e.insemination} | Delivery: ${e.delivery}
        <button class="editBtn" onclick="editEntry(${i})">üìù Edit</button>
        <button class="deleteBtn" onclick="deleteEntry(${i})">‚ùå Delete</button></div>`;
    });
}

function saveEntries() {
    localStorage.setItem("autoEntries", JSON.stringify(entries));
    showEntries();
}

document.getElementById("autoEntryForm").addEventListener("submit", function(event){
    event.preventDefault();
    const cow = document.getElementById("cowName").value;
    const insemination = document.getElementById("inseminationDate").value;
    const delivery = document.getElementById("deliveryDate").value;
    const index = document.getElementById("editIndex").value;

    if (index) {
        entries[index] = { cow, insemination, delivery };
    } else {
        entries.push({ cow, insemination, delivery });
    }

    document.getElementById("editIndex").value = "";
    document.getElementById("autoEntryForm").reset();
    saveEntries();
});

function editEntry(i) {
    document.getElementById("cowName").value = entries[i].cow;
    document.getElementById("inseminationDate").value = entries[i].insemination;
    document.getElementById("deliveryDate").value = entries[i].delivery;
    document.getElementById("editIndex").value = i;
}

function deleteEntry(i) {
    if (confirm("Delete this entry?")) {
        entries.splice(i, 1);
        saveEntries();
    }
}

showEntries();
</script>

</body>
</html>
